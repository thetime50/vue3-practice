
## 04-1-可复用组合-组合式api

### setup

在setup 组件选项中初始化响应式对象 生命周期钩子 watch computed 等组件选项

**参数**
- Props

setup 函数中的 props 是响应式的，当传入新的 prop 时会被更新  
**不能使用 ES6 解构**，它会消除 prop 的响应性 (新的Proxy api做响应式只绑定在顶层)  
使用 **toRefs** 结构响应式数据  
如果可选prop没有传递toRefs不会创建一个prop,需要用toRef单独创建

- Context

### ref
使用响应式变量

- ref  
    对单个值做响应式处理
    会转换为响应式对象，在返回对象 resRef.value 中引用  
    (通过封装对象的引用获取数据保证数据一致)
    (创建了一个**响应式引用**)
- reactive

```js
import {ref} from 'vue'

const count = ref(0)
console.log(counter) // { value: 0 }
console.log(counter.value) // 0
counter.value++
console.log(counter.value) // 1
/**
 * 模板引用时不需要加 .value
 * <span>{{count}}</span>
 */
```

### 注册生命周期钩子

### watch

### computed 属性



